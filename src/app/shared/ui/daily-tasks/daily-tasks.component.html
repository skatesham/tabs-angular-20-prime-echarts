<p-card class="shadow-sm">
  <ng-template pTemplate="header">
    <div 
      class="px-6 pt-6 pb-4"
      pAnimateOnScroll
      enterClass="fadeindown">
      <div class="flex items-center gap-3 mb-1">
        <span class="text-2xl">ğŸ’ª</span>
        <h3 class="text-xl font-semibold dark:text-white">Atividades diÃ¡rias</h3>
      </div>
      <p class="text-sm text-gray-600 dark:text-gray-400">Mantenha o foco nas tarefas essenciais</p>
    </div>
  </ng-template>

  <div class="flex flex-col gap-4">
    <div 
      class="flex items-center justify-between"
      pAnimateOnScroll
      enterClass="fadeinleft">
      <span class="text-sm font-medium text-gray-700 dark:text-gray-300">
        {{ completedCount }} de {{ totalCount }} concluÃ­das
      </span>
      <span class="text-sm font-semibold text-primary-600 dark:text-primary-400">
        {{ progressPercentage }}%
      </span>
    </div>

    <div
      pAnimateOnScroll
      enterClass="fadein">
      <p-progressBar [value]="progressPercentage" [showValue]="false"></p-progressBar>
    </div>

    <div 
      class="flex flex-col gap-3"
      pAnimateOnScroll
      enterClass="fadeinup">
      @for (task of tasks(); track task.id) {
        <div class="flex items-center gap-3 p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
          <p-checkbox 
            [binary]="true" 
            [(ngModel)]="task.completed"
            (onChange)="onTaskChange()"
            [inputId]="'task-' + task.id">
          </p-checkbox>
          <label 
            [for]="'task-' + task.id" 
            class="text-sm cursor-pointer flex-1"
            [class.line-through]="task.completed"
            [class.text-gray-500]="task.completed"
            [class.dark:text-gray-500]="task.completed"
            [class.text-gray-700]="!task.completed"
            [class.dark:text-gray-300]="!task.completed">
            {{ task.label }}
          </label>
        </div>
      }
    </div>
  </div>
</p-card>
